<h2 style="text-align: center;"> Commits </h2>

<form (ngSubmit)="onSubmit()">
    <div class="p-formgroup-inline" style="text-align: center; margin: 15px 0 15px 0;">
        <span class="p-input-icon-left">
            <i class="pi pi-search"></i>
            <input type="search" class="form-control" pInputText placeholder="Search Repository"
                [formControl]="searchControl" [value]="searchName" required>
        </span>
        <button type="submit" pButton label="Submit"></button>
    </div>
</form>

<p-table [value]="commitsList" [rows]="10" scrollHeight="70vh" [loading]="loading"
    [paginator]="true" [rowHover]="true">
    <ng-template pTemplate="header">
        <tr>
            <th style="width: 30px;">Avatar</th>
            <th style="width: 100px;">Name</th>
            <th style="width: 75px;">Url</th>
            <th style="width: 500px;">Message</th>
        </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item>
        <tr>
            <td><img [src]="item.author? item.author.avatar_url : 'assets/profile-icon.png'" [alt]="item.author?.login" width="30"
                    class="p-shadow-10 owner_avatar" /></td>
            <td>{{item.commit.author.name}}</td>
            <td><a [href]="item.url">Go To Commit</a></td>
            <td>{{item.commit.message}}</td>
        </tr>
    </ng-template>
</p-table>

<p *ngIf="error">{{ error }}</p>